<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">updateFile</value>
  <array name="sig" type="value" depth="1">
    <value>[i] field:0:required fileID</value>
    <value>[i] field:0:required contentID</value>
    <value>[i] field:0:required fileName</value>
    <value>[i] field:0:required fileInputStream</value>
    <value>[i] field:0:required friendlyName</value>
    <value>[i] object:0:optional metadataMap</value>
    <value>[o] field:0:required fileID</value>
    <value>[o] field:0:required status</value>
  </array>
  <value name="sigtype">java 3.5</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7DQpTdHJpbmcgZmlsZUlE
ID0gSURhdGFVdGlsLmdldFN0cmluZyhjdXJzb3IsICJmaWxlSUQiKTsNClN0cmluZyBjb250ZW50
SUQgPSBJRGF0YVV0aWwuZ2V0U3RyaW5nKGN1cnNvciwgImNvbnRlbnRJRCIpOw0KU3RyaW5nIGZp
bGVOYW1lID0gSURhdGFVdGlsLmdldFN0cmluZyhjdXJzb3IsICJmaWxlTmFtZSIpOw0KT2JqZWN0
IGlucHV0ID0gSURhdGFVdGlsLmdldChjdXJzb3IsICJmaWxlSW5wdXRTdHJlYW0iKTsNClN0cmlu
ZyByZXBvTmFtZSA9IElEYXRhVXRpbC5nZXRTdHJpbmcoY3Vyc29yLCAiZnJpZW5kbHlOYW1lIik7
DQpPYmplY3QgbWV0YWRhdGFNYXAgPSBJRGF0YVV0aWwuZ2V0KGN1cnNvciwgIm1ldGFkYXRhTWFw
Iik7DQpjdXJzb3IuZGVzdHJveSgpOw0KaWYgKG1ldGFkYXRhTWFwIGluc3RhbmNlb2YgU3RyaW5n
KSB7DQoJU3RyaW5nIHN0cmluZ01hcCA9IChTdHJpbmcpIG1ldGFkYXRhTWFwOw0KCW1ldGFkYXRh
TWFwID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBTdHJpbmc+KCk7DQoJc3RyaW5nTWFwID0gc3RyaW5n
TWFwLnJlcGxhY2VBbGwoIn0iLCAiIik7DQoJU3RyaW5nW10gbWFwVmFsdWVzID0gc3RyaW5nTWFw
LnNwbGl0KCIsIik7DQoJZm9yIChTdHJpbmcgdmFsdWVQYWlyIDogbWFwVmFsdWVzKSB7DQoJCXZh
bHVlUGFpciA9IHZhbHVlUGFpci5zdWJzdHJpbmcoMSk7DQoJCVN5c3RlbS5vdXQucHJpbnRsbih2
YWx1ZVBhaXIpOw0KCQlTdHJpbmdbXSBrZXlQYWlyID0gdmFsdWVQYWlyLnNwbGl0KCI9Iik7DQoJ
CVN0cmluZyBrZXkgPSBrZXlQYWlyWzBdOw0KCQlTdHJpbmcgdmFsdWUgPSBrZXlQYWlyWzFdOw0K
CQkoKEhhc2hNYXA8U3RyaW5nLCBTdHJpbmc+KSBtZXRhZGF0YU1hcCkucHV0KGtleSwgdmFsdWUp
Ow0KCX0NCn0NCklucHV0U3RyZWFtIHN0cmVhbSA9IG51bGw7DQp0cnkgew0KCWlmIChpbnB1dCBp
bnN0YW5jZW9mIFN0cmluZykgew0KCQlGaWxlIGZpbGUgPSBuZXcgRmlsZSgoU3RyaW5nKSBpbnB1
dCk7DQoJCWlmIChmaWxlLmV4aXN0cygpKSB7DQoJCQlzdHJlYW0gPSBuZXcgRmlsZUlucHV0U3Ry
ZWFtKGZpbGUpOw0KCQl9IGVsc2Ugew0KCQkJYnl0ZVtdIGJ5dGVzID0gQmFzZTY0LmRlY29kZSgo
KFN0cmluZykgaW5wdXQpLmdldEJ5dGVzKCkpOw0KCQkJc3RyZWFtID0gbmV3IEJ5dGVBcnJheUlu
cHV0U3RyZWFtKGJ5dGVzKTsNCgkJfQ0KCX0gZWxzZSBpZiAoaW5wdXQgaW5zdGFuY2VvZiBJbnB1
dFN0cmVhbSkgew0KCQlzdHJlYW0gPSAoSW5wdXRTdHJlYW0pIGlucHV0Ow0KCX0NCn0gY2F0Y2gg
KEV4Y2VwdGlvbiBlKSB7DQoJZS5wcmludFN0YWNrVHJhY2UoKTsNCn0NCg0KbWV0YWRhdGFNYXAg
PSBuZXcgSGFzaE1hcDxTdHJpbmcsIFN0cmluZz4oKTsgLy8gVE9ETzogTUdOIHNob3VsZCB0aGlz
IHJlYWxseSBiZSBjcmVhdGVkIGhlcmU/Pz8NCigoSGFzaE1hcDxTdHJpbmcsIFN0cmluZz4pIG1l
dGFkYXRhTWFwKS5wdXQoIm9yaWdpbmFsRmlsZU5hbWUiLA0KCQlmaWxlTmFtZSk7DQpFQ29udGVu
dFJlcG9zaXRvcnkgcmVwbyA9IHV0aWwuZ2V0UmVwbyhyZXBvTmFtZSk7DQpTdHJpbmcgc3RhdHVz
ID0gIiI7DQppZiAocmVwbyA9PSBudWxsKSB7DQoJc3RhdHVzID0gIkZhaWxlZDogUmVwb3NpdG9y
eSAoIiArIHJlcG9OYW1lDQoJCQkrICIpIG5vdCBjb25maWd1cmVkLCBwbGVhc2UgZmlyc3QgcnVu
IGFkZENvbm5lY3Rpb24uIjsNCn0NCg0KU3RyaW5nW10gZmlsZU5hbWVzID0geyBmaWxlTmFtZSB9
Ow0KU3RyaW5nIHRhcmdldFBhdGggPSAic21pOi8vIiArIHJlcG9OYW1lICsgIi90bXAvIiArIGZp
bGVOYW1lOw0KdHJ5IHsNCglpZiAocmVwbyAhPSBudWxsKSB7DQoJCWlmICghcmVwby5pc0xpdmUo
KSkgew0KCQkJcmVwby5nZXRSZXBvKCk7DQoJCX0NCgkJaW50IG5vZGVJRCA9IHJlcG8uZ2V0Tm9k
ZUlET2ZDb250ZW50SUQoY29udGVudElEKTsNCgkJaW50W10gbm9kZUlEcyA9IHsgbm9kZUlEIH07
DQoJCWlmIChmaWxlSUQgIT0gbnVsbCkgew0KCQkJcmVwby51cGRhdGVGaWxlKGNvbnRlbnRJRCwg
bm9kZUlEcywgc3RyZWFtLCBmaWxlTmFtZXMsDQoJCQkJCXJlcG9OYW1lLCB0YXJnZXRQYXRoLCBm
aWxlSUQpOw0KCQkJaWYgKG1ldGFkYXRhTWFwICE9IG51bGwpDQoJCQkJcmVwby5hZGRNZXRhZGF0
YShjb250ZW50SUQsDQoJCQkJCQkoSGFzaE1hcDxTdHJpbmcsIFN0cmluZz4pIG1ldGFkYXRhTWFw
KTsNCgkJCXN0YXR1cyA9ICJTdWNjZXNzOiBVcGRhdGVkICIgKyBmaWxlTmFtZSArICIgdG8gIg0K
CQkJCQkrIGNvbnRlbnRJRCArICIuIjsNCgkJfSBlbHNlIHsNCgkJCXN0YXR1cyA9ICJGYWlsZWQ6
IFVuYWJsZSB0byB1cGRhdGUgRmlsZSBmb3IgY29udGVudElEICINCgkJCQkJKyBjb250ZW50SUQg
KyAiIGZpbGVJRCAiICsgZmlsZUlEICsgIi4iOw0KCQl9DQoJfQ0KfSBjYXRjaCAoRXhjZXB0aW9u
IGUpIHsNCgllLnByaW50U3RhY2tUcmFjZSgpOw0KCXN0YXR1cyA9ICJGYWlsZWQ6IFVuYWJsZSB0
byB1cGRhdGUgRmlsZSBmb3IgY29udGVudElEICIgKyBjb250ZW50SUQNCgkJCSsgIiBmaWxlSUQg
IiArIGZpbGVJRCArICIuIjsNCn0NCg0KY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7DQpJ
RGF0YVV0aWwucHV0KGN1cnNvciwgInN0YXR1cyIsIHN0YXR1cyk7DQpJRGF0YVV0aWwucHV0KGN1
cnNvciwgImZpbGVJRCIsIGZpbGVJRCk7DQpjdXJzb3IuZGVzdHJveSgpOw0K</value>
</Values>
